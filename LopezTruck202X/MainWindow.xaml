<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="LopezTruck202X.MainWindow"
    x:Name="Root"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="using:LopezTruck202X"
    xmlns:models="using:LopezTruck202X.Models"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="LopezTruck202X">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid>
        <ScrollViewer>
            <StackPanel Spacing="16" Padding="24">
            <StackPanel Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                <TextBlock Text="Facturación - Lopez Trucking" FontSize="24" FontWeight="SemiBold" />
                <Button Content="Catálogos" Click="OnOpenCatalogs" />
                <Button Content="Buscar invoice" Click="OnOpenSearch" />
            </StackPanel>

            <Grid ColumnSpacing="16" RowSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="Auto" />
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Grid.Column="0" Spacing="6">
                    <TextBlock Text="Invoice No." />
                    <NumberBox Value="{x:Bind ViewModel.InvoiceNumber, Mode=TwoWay}" Minimum="1" />
                </StackPanel>

                <StackPanel Grid.Row="0" Grid.Column="1" Spacing="6">
                    <TextBlock Text="Fecha" />
                    <DatePicker Date="{x:Bind ViewModel.InvoiceDate, Mode=TwoWay}" />
                </StackPanel>

                <StackPanel Grid.Row="0" Grid.Column="2" Spacing="6">
                    <TextBlock Text="Check" />
                    <TextBox Text="{x:Bind ViewModel.CheckNumber, Mode=TwoWay}" />
                </StackPanel>

                <StackPanel Grid.Row="1" Grid.Column="0" Spacing="6">
                    <TextBlock Text="Cliente" />
                    <ComboBox IsEditable="True"
                              ItemsSource="{x:Bind ViewModel.Customers, Mode=OneWay}"
                              DisplayMemberPath="Name"
                              SelectedItem="{x:Bind ViewModel.SelectedCustomer, Mode=TwoWay}"
                              Text="{x:Bind ViewModel.CustomerName, Mode=TwoWay}" />
                </StackPanel>

                <StackPanel Grid.Row="1" Grid.Column="1" Spacing="6">
                    <TextBlock Text="Teléfono" />
                    <TextBox Text="{x:Bind ViewModel.CustomerPhone, Mode=TwoWay}" />
                </StackPanel>

                <StackPanel Grid.Row="1" Grid.Column="2" Spacing="6" VerticalAlignment="Bottom">
                    <Button Content="Eliminar cliente"
                            Tag="{x:Bind ViewModel.SelectedCustomer, Mode=OneWay}"
                            Click="OnDeleteCustomer" />
                </StackPanel>
            </Grid>

            <Grid ColumnSpacing="16" RowSpacing="12">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Spacing="6">
                    <TextBlock Text="Dirección" />
                    <TextBox Text="{x:Bind ViewModel.CustomerAddress, Mode=TwoWay}" />
                </StackPanel>

                <StackPanel Grid.Column="1" Spacing="6">
                    <TextBlock Text="Ciudad" />
                    <TextBox Text="{x:Bind ViewModel.CustomerCity, Mode=TwoWay}" />
                </StackPanel>

                <StackPanel Grid.Column="2" Spacing="6">
                    <TextBlock Text="Estado" />
                    <TextBox Text="{x:Bind ViewModel.CustomerState, Mode=TwoWay}" />
                </StackPanel>
            </Grid>

            <StackPanel Spacing="8">
                <TextBlock Text="Detalle de viajes" FontSize="18" FontWeight="SemiBold" />

                <Grid ColumnSpacing="12" RowSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Spacing="4">
                        <TextBlock Text="Fecha" />
                        <DatePicker Date="{x:Bind ViewModel.NewLineDate, Mode=TwoWay}" />
                    </StackPanel>
                    <StackPanel Grid.Row="0" Grid.Column="1" Spacing="4">
                        <TextBlock Text="Compañía" />
                        <ComboBox ItemsSource="{x:Bind ViewModel.Companies, Mode=OneWay}"
                                  DisplayMemberPath="Name"
                                  SelectedValuePath="Name"
                                  SelectedValue="{x:Bind ViewModel.SelectedCompanyName, Mode=TwoWay}"
                                  SelectionChanged="OnLinePriceSelectionChanged" />
                    </StackPanel>
                    <StackPanel Grid.Row="0" Grid.Column="2" Spacing="4">
                        <TextBlock Text="Origen" />
                        <ComboBox ItemsSource="{x:Bind ViewModel.Origins, Mode=OneWay}"
                                  DisplayMemberPath="Name"
                                  SelectedValuePath="Name"
                                  SelectedValue="{x:Bind ViewModel.NewLineFrom, Mode=TwoWay}"
                                  SelectionChanged="OnLinePriceSelectionChanged" />
                    </StackPanel>
                    <StackPanel Grid.Row="0" Grid.Column="3" Spacing="4">
                        <TextBlock Text="Destino" />
                        <ComboBox ItemsSource="{x:Bind ViewModel.Destinations, Mode=OneWay}"
                                  DisplayMemberPath="Name"
                                  SelectedValuePath="Name"
                                  SelectedValue="{x:Bind ViewModel.NewLineTo, Mode=TwoWay}"
                                  SelectionChanged="OnLinePriceSelectionChanged" />
                    </StackPanel>

                    <StackPanel Grid.Row="1" Grid.Column="0" Spacing="4">
                        <TextBlock Text="Dispatch" />
                        <TextBox Text="{x:Bind ViewModel.NewLineDispatch, Mode=TwoWay}" />
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="1" Spacing="4">
                        <TextBlock Text="Empties" />
                        <TextBox Text="{x:Bind ViewModel.NewLineEmpties, Mode=TwoWay}" />
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="2" Spacing="4">
                        <TextBlock Text="F.B." />
                        <TextBox Text="{x:Bind ViewModel.NewLineFb, Mode=TwoWay}" />
                    </StackPanel>
                    <StackPanel Grid.Row="1" Grid.Column="3" Spacing="4">
                        <TextBlock Text="Monto" />
                        <NumberBox Value="{x:Bind ViewModel.NewLineAmount, Mode=TwoWay}" />
                    </StackPanel>
                </Grid>

                <Button Content="Agregar línea" HorizontalAlignment="Left" Click="OnAddLine" />

                <ListView ItemsSource="{x:Bind ViewModel.Lines, Mode=OneWay}">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="models:InvoiceLine">
                            <Grid ColumnSpacing="8" Padding="8" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>


                                <TextBlock Grid.Column="0" Text="{x:Bind DateDisplay}" />
                                <TextBlock Grid.Column="1" Text="{x:Bind Company}" />
                                <TextBlock Grid.Column="2" Text="{x:Bind From}" />
                                <TextBlock Grid.Column="3" Text="{x:Bind To}" />
                                <TextBlock Grid.Column="4" Text="{x:Bind Dispatch}" />
                                <TextBlock Grid.Column="5" Text="{x:Bind Empties}" />
                                <TextBlock Grid.Column="6" Text="{x:Bind Fb}" />
                                <TextBlock Grid.Column="7" Text="{x:Bind AmountDisplay}" HorizontalAlignment="Right" />
                                <Button Grid.Column="8" Content="Quitar" Tag="{x:Bind}" Click="OnRemoveLine" />
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </StackPanel>

            <Grid ColumnSpacing="16">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal" Spacing="12" VerticalAlignment="Center">
                    <TextBlock Text="Advance" />
                    <NumberBox Width="140" Value="{x:Bind ViewModel.Advance, Mode=TwoWay}" />
                    <TextBlock Text="Subtotal" />
                    <TextBlock Text="{x:Bind ViewModel.SubtotalFormatted}" />
                    <TextBlock Text="Total" />
                    <TextBlock Text="{x:Bind ViewModel.TotalFormatted}" FontWeight="SemiBold" />
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    <Button Content="Guardar" Click="OnSave" />
                    <Button Content="Generar PDF" Click="OnGeneratePdf" />
                </StackPanel>
            </Grid>
            </StackPanel>
        </ScrollViewer>

        <ContentDialog
            x:Name="CatalogDialog"
            Title="Catálogos"
            PrimaryButtonText="Cerrar">
            <ScrollViewer>
                <StackPanel Spacing="16" Padding="0">
                <StackPanel Spacing="8">
                    <TextBlock Text="Orígenes" FontSize="16" FontWeight="SemiBold" />
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBox Width="280" PlaceholderText="Nuevo origen" Text="{x:Bind ViewModel.NewOriginName, Mode=TwoWay}" />
                        <Button Content="Agregar" Click="OnAddOrigin" />
                    </StackPanel>
                    <ListView ItemsSource="{x:Bind ViewModel.Origins, Mode=OneWay}">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="models:Origin">
                                <Grid ColumnSpacing="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Text="{x:Bind Name, Mode=TwoWay}" />
                                    <Button Grid.Column="1" Content="Actualizar" Tag="{x:Bind}" Click="OnUpdateOrigin" />
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>

                <StackPanel Spacing="8">
                    <TextBlock Text="Destinos" FontSize="16" FontWeight="SemiBold" />
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBox Width="280" PlaceholderText="Nuevo destino" Text="{x:Bind ViewModel.NewDestinationName, Mode=TwoWay}" />
                        <Button Content="Agregar" Click="OnAddDestination" />
                    </StackPanel>
                    <ListView ItemsSource="{x:Bind ViewModel.Destinations, Mode=OneWay}">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="models:Destination">
                                <Grid ColumnSpacing="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Text="{x:Bind Name, Mode=TwoWay}" />
                                    <Button Grid.Column="1" Content="Actualizar" Tag="{x:Bind}" Click="OnUpdateDestination" />
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>

                <StackPanel Spacing="8">
                    <TextBlock Text="Compañías" FontSize="16" FontWeight="SemiBold" />
                    <StackPanel Orientation="Horizontal" Spacing="8">
                        <TextBox Width="280" PlaceholderText="Nueva compañía" Text="{x:Bind ViewModel.NewCompanyName, Mode=TwoWay}" />
                        <Button Content="Agregar" Click="OnAddCompany" />
                    </StackPanel>
                    <ListView ItemsSource="{x:Bind ViewModel.Companies, Mode=OneWay}">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="models:Company">
                                <Grid ColumnSpacing="8">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="Auto" />
                                    </Grid.ColumnDefinitions>
                                    <TextBox Grid.Column="0" Text="{x:Bind Name, Mode=TwoWay}" />
                                    <Button Grid.Column="1" Content="Actualizar" Tag="{x:Bind}" Click="OnUpdateCompany" />
                                    <Button Grid.Column="2" Content="Eliminar" Tag="{x:Bind}" Click="OnDeleteCompany" />
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>

                <StackPanel Spacing="8">
                <TextBlock Text="Precios" FontSize="16" FontWeight="SemiBold" />
                <Grid ColumnSpacing="8" RowSpacing="8">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="120" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <ComboBox Grid.Column="0"
                              PlaceholderText="Compañía"
                              ItemsSource="{x:Bind ViewModel.Companies, Mode=OneWay}"
                              DisplayMemberPath="Name"
                              SelectedValuePath="Id"
                              SelectedValue="{x:Bind ViewModel.NewPriceCompanyId, Mode=TwoWay}" />
                    <ComboBox Grid.Column="1"
                              PlaceholderText="Origen"
                              ItemsSource="{x:Bind ViewModel.Origins, Mode=OneWay}"
                              DisplayMemberPath="Name"
                              SelectedValuePath="Id"
                              SelectedValue="{x:Bind ViewModel.NewPriceOriginId, Mode=TwoWay}" />
                    <ComboBox Grid.Column="2"
                              PlaceholderText="Destino"
                              ItemsSource="{x:Bind ViewModel.Destinations, Mode=OneWay}"
                              DisplayMemberPath="Name"
                              SelectedValuePath="Id"
                              SelectedValue="{x:Bind ViewModel.NewPriceDestinationId, Mode=TwoWay}" />
                    <NumberBox Grid.Column="3" Value="{x:Bind ViewModel.NewPriceAmount, Mode=TwoWay}" />
                    <Button Grid.Column="4" Content="Guardar" Click="OnAddPrice" />
                </Grid>

                <ListView ItemsSource="{x:Bind ViewModel.Prices, Mode=OneWay}">
                    <ListView.ItemTemplate>
                        <DataTemplate x:DataType="models:Price">
                            <Grid ColumnSpacing="8">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="120" />
                                    <ColumnDefinition Width="Auto" />
                                    <ColumnDefinition Width="Auto" />
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="{x:Bind CompanyName}" />
                                <TextBlock Grid.Column="1" Text="{x:Bind OriginName}" />
                                <TextBlock Grid.Column="2" Text="{x:Bind DestinationName}" />
                                <NumberBox Grid.Column="3" Value="{x:Bind Amount, Mode=TwoWay}" />
                                <Button Grid.Column="4" Content="Actualizar" Tag="{x:Bind}" Click="OnUpdatePrice" />
                                <Button Grid.Column="5" Content="Eliminar" Tag="{x:Bind}" Click="OnDeletePrice" />
                            </Grid>
                        </DataTemplate>
                    </ListView.ItemTemplate>
                </ListView>
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
        </ContentDialog>

        <ContentDialog
            x:Name="SearchDialog"
            Title="Buscar invoices"
            PrimaryButtonText="Cerrar">
            <ScrollViewer>
                <StackPanel Spacing="16" Padding="0">
                <StackPanel Spacing="8">
                    <TextBlock Text="Filtros" FontSize="16" FontWeight="SemiBold" />
                    <Grid ColumnSpacing="12" RowSpacing="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <CalendarDatePicker Grid.Column="0"
                                            Date="{x:Bind ViewModel.SearchStartDate, Mode=TwoWay}"
                                            PlaceholderText="Fecha inicio" />
                        <CalendarDatePicker Grid.Column="1"
                                            Date="{x:Bind ViewModel.SearchEndDate, Mode=TwoWay}"
                                            PlaceholderText="Fecha fin" />
                        <TextBox Grid.Column="2"
                                 PlaceholderText="Cliente"
                                 Text="{x:Bind ViewModel.SearchCustomerName, Mode=TwoWay}" />
                        <Button Grid.Column="3" Content="Buscar" Click="OnSearchInvoices" />
                    </Grid>
                </StackPanel>

                <StackPanel Spacing="8">
                    <TextBlock Text="Resultados" FontSize="16" FontWeight="SemiBold" />
                    <ListView ItemsSource="{x:Bind ViewModel.SearchResults, Mode=OneWay}"
                              SelectedItem="{x:Bind ViewModel.SelectedInvoiceSummary, Mode=TwoWay}">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="models:InvoiceSummary">
                                <Grid ColumnSpacing="12" Padding="8" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="120" />
                                        <ColumnDefinition Width="140" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="120" />
                                    </Grid.ColumnDefinitions>
                                    <TextBlock Grid.Column="0" Text="{x:Bind Number}" />
                                    <TextBlock Grid.Column="1" Text="{x:Bind DateDisplay}" />
                                    <TextBlock Grid.Column="2" Text="{x:Bind CustomerName}" />
                                    <TextBlock Grid.Column="3" Text="{x:Bind TotalDisplay}" HorizontalAlignment="Right" />
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                    <Button Content="Cargar seleccionada" HorizontalAlignment="Left" Click="OnLoadSelectedInvoice" />
                </StackPanel>
                </StackPanel>
            </ScrollViewer>
        </ContentDialog>

        <ContentDialog
            x:Name="InvoiceSummaryDialog"
            Title="Resumen de invoice"
            PrimaryButtonText="Generar PDF"
            CloseButtonText="Cancelar">
            <ScrollViewer>
                <StackPanel Spacing="16" Padding="0" x:DataType="models:Invoice">
                <StackPanel Spacing="6">
                    <TextBlock Text="Encabezado" FontWeight="SemiBold" />
                    <Grid ColumnSpacing="16" RowSpacing="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Invoice No." />
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="{x:Bind Number}" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Fecha" />
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="{x:Bind DateDisplay}" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Check" />
                        <TextBlock Grid.Row="2" Grid.Column="1" Text="{x:Bind CheckNumber}" />
                    </Grid>
                    <Grid ColumnSpacing="16" RowSpacing="8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="*" />
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                            <RowDefinition Height="Auto" />
                        </Grid.RowDefinitions>

                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Cliente" />
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="{x:Bind Customer.Name}" />

                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Teléfono" />
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="{x:Bind Customer.Phone}" />

                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Dirección" />
                        <TextBlock Grid.Row="2" Grid.Column="1" Text="{x:Bind Customer.Address}" />
                    </Grid>
                </StackPanel>

                <StackPanel Spacing="8">
                    <TextBlock Text="Líneas" FontWeight="SemiBold" />
                    <ListView ItemsSource="{x:Bind Lines}">
                        <ListView.ItemTemplate>
                            <DataTemplate x:DataType="models:InvoiceLine">
                                <Grid ColumnSpacing="8" Padding="8" Background="{ThemeResource CardBackgroundFillColorDefaultBrush}">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="120" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="*" />
                                        <ColumnDefinition Width="120" />
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Column="0" Text="{x:Bind DateDisplay}" />
                                    <TextBlock Grid.Column="1" Text="{x:Bind Company}" />
                                    <TextBlock Grid.Column="2" Text="{x:Bind From}" />
                                    <TextBlock Grid.Column="3" Text="{x:Bind To}" />
                                    <TextBlock Grid.Column="4" Text="{x:Bind Dispatch}" />
                                    <TextBlock Grid.Column="5" Text="{x:Bind Empties}" />
                                    <TextBlock Grid.Column="6" Text="{x:Bind Fb}" />
                                    <TextBlock Grid.Column="7" Text="{x:Bind AmountDisplay}" HorizontalAlignment="Right" />
                                </Grid>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>
                </StackPanel>

                <Grid ColumnSpacing="12">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="0" Text="{x:Bind AdvanceDisplay}" />
                    <TextBlock Grid.Column="1" Text="{x:Bind SubtotalDisplay}" />
                    <TextBlock Grid.Column="2" Text="{x:Bind TotalDisplay}" FontWeight="SemiBold" />
                </Grid>
            </StackPanel>
            </ScrollViewer>
        </ContentDialog>
    </Grid>
</Window>
